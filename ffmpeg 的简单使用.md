# `ffmpeg` 简单使用

## 常用参数说明：

- ```-i```：后面接文件名，用于指示输入文件

- ```acodec```和```vcodec```：音频和视频的编码，后面一般接```copy```，复制，也就是保持编码格式不变

    ```a```就是audio，```v```就是video

- ```an```:audio none(大概这意思)，也就是不要声音，用于视频消音
- ```-ss```：视频剪切（或许不止）时从哪里开始，后接时间，如：```00:26:11```
- ```-t```：应该是```time```吧，指操作是只从开始位置（默认是0）运行这个时间后结束操作

## 1、音视频剪切

格式如：

``````cmd
ffmpeg -ss 00:00:00 -i input.mp4 -acodec copy -vcodec copy -t 00:01:00 output.mp4
``````

- 其中`-ss`的值默认如上，可以不写，如果指定开始位置，就要按这个格式写

- `input.mp4`是输入的文件，音视频都可以

- `-acodec copy`复制原视频的音频编码，即保持不变

    `-vcodec copy`同上，保持视频编码不变

- `-t 00:01:00`是要截取的***时间段***，注意：是要截取的**时间段**！不是截止的时间点

- `output.mp4`这是要输出的文件

## 2、视频消音

格式如：

``````cmd
ffmpeg -i input.mp4 -vcodec copy -an output.mp4
``````

- 这个主要是用`-vcodec copy`保留视频，用`-an`不要音频，最后输出，`ffmpeg`的所有操作都像是**把源文件拆分后按指定规则拼装**

## 3、音视频合并

格式如：

``````cmd
ffmpeg -i input.mp4 -i input.mp3 output.mp4
``````

- 简单粗暴，将音视频放前面就行，位置可调换，最后直接写输出文件名，注意最后输出的文件前面没有`-i`，因为`-i`是指输入(input)文件的
- 注意：合并后**原视频的声音**将被**消除**！！！所以请保证需要的音频都在`input.mp3`里

其实还有一种方法（来自b站Python学习者的视频）：

``````cmd
ffmpeg -i input.mp3 -i input.mp4 -strict -2 -f mp4 output.mp4
``````

- 这个比较专业，但是合并效果相同，而且这个`-f mp4`明显说明对格式有要求，但以上其他命令中的文件都可以是几乎**任意格式**！



#### 最后附上[`ffmpeg`官网](http://ffmpeg.org/)：

- 注意下载，去[windows下面下载exe](https://www.gyan.dev/ffmpeg/builds/)
- 去到这个网站后往下拉，找到`release`标签，下载里面最大的那个，它把源文件封装成了exe，下载后只需添加环境变量即可

#### 另附上述学习的命令的出处[ffmpeg音视频合成_u010941017的专栏-CSDN博客](https://blog.csdn.net/u010941017/article/details/84694455)

- 注：最好还是去官网看文档，但为了快速使用简单命令可以看看这里的

